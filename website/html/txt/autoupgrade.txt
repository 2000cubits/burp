How to set up autoupgrades
--------------------------

On the client machines, you need to have a field in burp.conf that looks like
this:

autoupgrade_dir = C:/Program Files/Burp/autoupgrade
or
autoupgrade_dir = /etc/burp/autoupgrade/client

The directories given need to exist.


On the server, you need to have a suitable field in clientconfdir/<clientname>
that looks like this:
autoupgrade_dir = /etc/burp/autoupgrade/server/windows-32bit
or
autoupgrade_dir = /etc/burp/autoupgrade/server/debian-32bit

The directories given need to exist on the server, and need to have a
subdirectory named after the current server version number. For example:
/etc/burp/autoupgrade/server/windows32bit/1.3.1

The subdirectory needs to contain two files called "script" and "package".


Given all the above, then when the client version is 1.2.8 or newer, and the
server version is greater than the client version, the next time the client
connects, it will download the two files, execute the "script" file, and then
exit.

Examples of "script" files are given in the source package, in
configs/server/autoupgrade.

The "package" file is the new file to be installed.



I shall explain once more, by example.

Scenario:
You have a 32 bit Windows client called 'win2k8' that is currently on 1.2.8.
You have a Debian server that is currently on 1.3.1.
You want to automatically upgrade the Windows client to 1.3.1.
You have a Windows burp installer called burp-win32-installer-1.3.1.exe.

Make sure this is in the client burp.conf file:
autoupgrade_dir = C:/Program Files/Burp/autoupgrade
Make sure this is in the server clientconfdir/win2k8 file:
autoupgrade_dir = /etc/burp/autoupgrade/server/windows-32bit
Make sure this directory exists on the server:
/etc/burp/autoupgrade/server/windows-32bit/1.3.1
Copy an appropriate script file to that directory (and rename it "script"):
cp burp/configs/autoupgrade/windows.script \
	/etc/burp/autoupgrade/server/windows-32bit/1.3.1/script
Copy the installer to that directory (and rename it "package"):
cp burp-win32-installer-1.3.1.exe \
	/etc/burp/autoupgrade/server/windows-32bit/1.3.1/package

The client should now automatically upgrade to 1.3.1 when it next connects.
