<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<STYLE type="text/css">
<!--
A { text-decoration:none;
color:#AA99BB;
background-color:black;}
P { text-align:justify;}
-->
</STYLE>
<TITLE>
BURP - BackUp and Restore Program
</TITLE>
</HEAD>
<BODY BACKGROUND="/images/background.jpg" BGCOLOR="black">
<!-- BODY BGCOLOR="black" -->

<TABLE WIDTH="100%" BORDER=0>
<TR>
<TD WIDTH="10%"></TD>
<TD ALIGN="CENTER" WIDTH="80%">
<TABLE BORDER=0 BGCOLOR="black">
<TR><TD ALIGN="CENTER" WIDTH="100%"><BR>
<A HREF="/">
<IMG BORDER=0 SRC="/images/logo.jpg" ALT="BURP - BackUp and Restore Program">
</A>

<HR>
<TABLE BORDER=0 WIDTH="100%" CELLSPACING=0 CELLPADDING=0>
<TR>
<TD ALIGN=CENTER><A HREF="/index.html"><IMG BORDER=0 SRC="/images/index.jpg" ALT="index"></A></TD>
<TD ALIGN=CENTER><A HREF="/why.html"><IMG BORDER=0 SRC="/images/why.jpg" ALT="why"></A></TD>
<TD ALIGN=CENTER><IMG BORDER=0 SRC="/images/faqsel.jpg" ALT="faq"></TD>
<TD ALIGN=CENTER><A HREF="/howto.html"><IMG BORDER=0 SRC="/images/howto.jpg" ALT="howto"></A></TD>
<TD ALIGN=CENTER><A HREF="/download.html"><IMG BORDER=0 SRC="/images/download.jpg" ALT="download"></A></TD>
<TD ALIGN=CENTER><A HREF="/contact.html"><IMG BORDER=0 SRC="/images/contact.jpg" ALT="contact"></A></TD>
</TR>
</TABLE>
<HR>

<BR><BR>
<!-- @header -->
<!-- FONT COLOR="#FF9999" -->
<TABLE>
<TR><TD WIDTH="10%"></TD>
<TD WIDTH="60%">
</TD><TD WIDTH="10%"></TD></TR>


<TR>
<TD></TD>
<TD ALIGN="LEFT">


<HR>

<P>
<FONT COLOR="#99CCFF">
Q. Why?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
A. Please go to the <a href="why.html">WHY</a> page.
</FONT>
</P>
<HR>

<P>
<FONT COLOR="#99CCFF">
Q. What operating systems do I need to be running?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
The burp server (where the backups are stored) needs to run on a Linux-style
operating system. Personally, I use Debian.
The burp client (from which backups are taken) can run on Linux or Windows.
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
Q. What are the main features? What works?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
A. At the time of writing, the following features work:
<ul>
<li>Server mode runs on Unix-based systems.
<li>Client mode runs on Windows and Unix-based systems.
<li>Windows Volume Shadow Copy Service (VSS) support (Windows XP R2 and newer).
<li>Windows 32bit and 64bit support.
<li>Delta differencing with librsync.
<li>Network backups.
<li>Backs up and restores files, directories, symlinks, hardlinks, fifos and
nodes.
<li>Storage and network compression using zlib.
<li>Ability to continue interrupted backups. 
<li>SSL.
<li>Client side encryption - (note: this turns off delta differencing).
<li>Scheduling.
<li>Email backup success/failure notifications.
<li>A live ncurses monitor on the server.
<li>Fifo read/write support.
<li>Pre/post backup/restore client scripts.
<li>Backups of Solaris ZFS snapshot send/receives.
<li>Linux acl/xattr support.
</ul>
</FONT>
</P>
<HR>

<P>
<FONT COLOR="#99CCFF">
Q. What is on the roadmap? What doesn't work?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
A. The following items are on my TODO list:
<ul>
<li>Add extra ways of deciding when to delete old backups - e.g, by time, or
by space.
<li>Add acl/xattr support for FreeBSD and Solaris.
<li>Server-side encryption option, so that network deltas can be done.
<li>Improve the status monitor.
<li>Add an option to set hardlinked_archive on a cycle, instead of just
being either on or off.
<li>Investigate HFS / resource forks and Mac support.
<li>Add include/exclude wildcards.
</ul>
</FONT>
</P>
<HR>

<P>
<FONT COLOR="#99CCFF">
Q. What are the main dependencies?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
A. They are:
<ul>
<li>librsync
<li>openssl
<li>zlib (>=1.2.5 is recommended)
</ul>
</FONT>
</P>

<HR>

<P>
<FONT COLOR="#99CCFF">
Q. Do I need to install cygwin on Windows?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
No.
</FONT>
</P>

<HR>

<P>
<FONT COLOR="#99CCFF">
Q. How do I build the Windows client?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
This is slightly complicated. You might want to go to the DOWNLOAD page and
get a prebuilt binary. If you really want to build it yourself, follow the
instructions in the README file in the src/win32 directory of the burp source.
</FONT>
</P>

<HR>

<P>
<FONT COLOR="#99CCFF">
Q. How do I build a static Linux binary?
</FONT>
</P>
<P>
<FONT COLOR="#99CCFF">
Use the --enable-static and --disable-libtool configure script options.
</FONT>
</P>

<HR>
<P>
<FONT COLOR="#99CCFF">
Q. What licence does Burp use?
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
A. It is open source free software (where 'free' means both that you do not have
to pay for it, and that you have freedom to do what you want with it) released
under the AGPLv3 licence. Refer to the Burp
<a href="/faq/licence.html">LICENCE</a> file for more details.
</FONT>
</P>

<HR>
<P>
<FONT COLOR="#99CCFF">
Q. I get errors like "/0000/0000/1ACA.gz: File too large" in my log.
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
A. This is burp trying to open a backed up file on the burp server.
Older versions of zlib can have problems opening large files. Try upgrading
zlib to at least version 1.2.5.
</FONT>
</P>

<HR>
<P>
<FONT COLOR="#99CCFF">
Q. Are you going to do data deduplication on the server side?
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
No. There are file systems (like btrfs, zfs and btrfs) coming along that will
do data deduplication automatically. So applications won't need to do anything
particularly special just to get that feature, and anything similar that I
might implement now would probably be wasted effort.
</FONT>
</P>

<HR>
<P>
<FONT COLOR="#99CCFF">
Q. What is the best file system to use on the server?
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
So far, I have done all my testing on ext3, and it works for me. The main
concern is not to run out of file system inodes. You can configure the number
of inodes when you create the ext3 file system, but you cannot change the
number later without reformatting.
<BR>
<BR>
One of my test clients has over a million files. Because I had used
the ext3 optimisation option for large files on the storage device (having
previously been using it for bacula), I initially ran out of inodes.
Reformatting the file system to have more inodes has solved the problem.
<BR>
<BR>
To see how many inodes I have, I use the command 'df -i'
<BR>
<BR>
Here is a helpful 10-year old mailing list post about ext3 inodes:
<a href="http://markmail.org/message/ergkrg6thswonkgo">http://markmail.org/message/ergkrg6thswonkgo</a>
<BR>
<BR>
(ignore the recommendation for reiserfs - I believe that ext3 has moved on more
than reiserfs over the last 10 years!)
</FONT>
</P>

<HR>
<P>
<FONT COLOR="#99CCFF">
Q. I specified LDFLAGS="-L /opt/somepath" to build burp, but when I run it, it uses the system libraries instead of the libraries I installed in /opt/somepath!
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
Try this: LDFLAGS="-L /opt/somepath -R /opt/somepath"
</FONT>
</P>

<HR>

<P>
<FONT COLOR="#99CCFF">
Q. On Windows, the client exits with a message like:
"Could not open 'C:/Documents and Settings/Administrator/NTUSER.DAT': The file is in use by another process."
Why?
</FONT>
</P>

<P>
<FONT COLOR="#99CCFF">
On newer versions of Windows, things called 'junction points' have been added.
In the example given, 'include = C:/Documents and Settings' was set in the
client burp.conf, but 'C:/Documents and Settings' is a junction point and the
real path is 'C:/Users'.
<BR>
Pointing burp at the junction point means that it goes outside of the VSS
snapshot, and hence cannot open files that other processes have open.
Use the real path instead.
</FONT>
</P>

<HR>


</TD>
</TR>

</TR>
</TABLE>
<!-- /FONT -->

<table width="100%">
<tr>
<td width="10%"></td>
<td align="left" width="30%">
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="XC8N3XB7T6UFQ">
<input type="image" src="http://burp.grke.net/images/paypal.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online.">
<img alt="" border="0" src="https://www.paypal.com/en_GB/i/scr/pixel.gif" width="1" height="1">
</form>
</td>
<td align="centre" width="50%">
<p>
<font color="#99ccff">
Burp is open and free software. I work on it in my spare time.
If you would like this work to continue, please consider making a small
donation.
</font>
</p>
</td>
<td width="10%">
</td>
</tr>
</table>

<BR>
</TD>
</TR>

</TABLE>
<TD WIDTH="10%"></TD>
</TR>

<table width="100%"><tr>
<td align="left">
<font color="#99ccff">
Burp, don't suck.
</font>
</td>
<td align="right">
<font color="#99ccff">
Last updated: July 2011
</font>
</td></tr></table>

</TABLE>

</BODY>
</HTML>
